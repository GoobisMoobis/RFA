<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RFA Announcements</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Welcome to the RFA! (Rationality Faction Announcements)</h1>
    
<script>
 document.addEventListener("DOMContentLoaded", function() {
  // Define the URL pattern to check for in the referrer
  const referrerPattern = "goobismoobis.github.io/RFA/cabinetannouncements";

  // Check if the referrer includes the specified URL pattern
  if (document.referrer.includes(referrerPattern)) {
    // Store a flag in session storage to remember the user came from the cabinet announcements
    sessionStorage.setItem("cameFromCabinetAnnouncements", "true");
  }

  // Check session storage to see if they came from the cabinet announcements
  if (sessionStorage.getItem("cameFromCabinetAnnouncements") === "true") {
    // Create a container <div> with styling for the outline and background
    const container = document.createElement("div");
    container.className = "announcement-container";

    // Create a new <a> element inside the container
    const redirectLink = document.createElement("a");
    redirectLink.href = "https://goobismoobis.github.io/RFA/cabinetannouncements"; // Set the link back to the cabinet announcements page
    redirectLink.innerText = "Return to Cabinet Announcements";

    // Append the link to the container
    container.appendChild(redirectLink);

    // Find the specific <h1> element with the desired text
    const headings = document.querySelectorAll("h1");
    const targetHeading = Array.from(headings).find(
      h1 => h1.textContent.trim() === "Welcome to the RFA! (Rationality Faction Announcements)"
    );

    // Insert the container after the specific <h1> element, if found
    if (targetHeading) {
      targetHeading.insertAdjacentElement("afterend", container);
    }
  }
});
</script>
    
    <p>This is the official announcement page for the Rationality NRTS faction. All announcements will be made here. Please make sure to check this every once in a while.</p>
    
    <div class="container">
        <div class="scroll-container">
            <h3>Smaller Announcements</h3>
            <ul>
            <li><b>BubleGeg</b> has been promoted to a <b>Cabinet Member</b></li>
            <li><b>BubleGeg</b> has joined the faction</li>
            </ul>
        </div>
    </div>
    <div class="container">
      <div class="scroll-container>
        <h2>Announcements</h2>
        
        
        <h4><a href="/announcements/11-15-2024-Announcement.html" class="new-text">(NEW!) </a><a href="/RFA/announcements/11-15-2024-Announcement.html" class="link">Announcement: 11/15/2024</a></h4>
        <a href="/RFA/announcements/11-14-2024-FirstAnnouncement.html" class="link">First Announcement: 11/14/2024</a></h4>
        
        <h2>You've reached the end!</h2>
      </div>
    </div>

<script>
    // Check if the visitor came from the password-protected site
    if (!document.referrer.includes('goobismoobis.github.io/RFA')) {
        // If they didn't come from the password page, redirect them to it
        window.location.href = 'https://goobismoobis.github.io/RFA';
    }
</script>
</body>
</html>
